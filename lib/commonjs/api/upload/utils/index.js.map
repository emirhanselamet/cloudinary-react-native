{"version":3,"names":["_consts","require","_util","Crypto","_interopRequireWildcard","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","entries","toArray","timestamp","Math","floor","Date","getTime","exports","present","value","length","sign_request","apiConfig","params","options","arguments","undefined","apiKey","apiSecret","clear_blank","signature","api_sign_request","api_key","params_to_sign","api_secret","to_sign","filter","_ref","k","v","map","_ref2","join","sort","computeHash","DEFAULT_SIGNATURE_ALGORITHM","Promise","resolve","hash","filtered_hash","_ref3","forEach","_ref4","x","input","signature_algorithm","encoding","digest","digestStringAsync","CryptoDigestAlgorithm","SHA256","SHA1","process_request_params","unsigned","hashToParameters","reduce","parameters","_ref5","isArray","endsWith","items","concat","push"],"sourceRoot":"../../../../../src","sources":["api/upload/utils/index.js"],"mappings":"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"}